{% extends 'layout.html' %}
{% block content %}

<style>
    body {
        background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        color: #fff;
        font-family: 'Poppins', sans-serif;
    }

    h2 {
        font-weight: 800;
        text-align: center;
        color: #ffdf6b;
        margin-bottom: 25px;
        text-shadow: 0px 3px 8px rgba(0,0,0,0.4);
        letter-spacing: 1px;
    }

    /* Glass table */
    .glass-table {
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(10px);
        border-radius: 18px;
        padding: 20px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.35);
        border: 1px solid rgba(255,255,255,0.15);
    }

    table thead tr {
        background: rgba(255, 255, 255, 0.15);
        color: #ffeaa7;
        font-size: 1.1rem;
        letter-spacing: 1px;
    }

    table tbody tr {
        transition: 0.3s ease;
    }

    table tbody tr:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-3px);
    }

    td {
        color: #e6e6e6;
        font-weight: 500;
        padding-top: 13px !important;
        padding-bottom: 13px !important;
    }

    /* Delete Button */
    .delete-btn {
        background: linear-gradient(135deg, #ff416c, #ff4b2b);
        border: none;
        color: white;
        padding: 7px 14px;
        font-size: 0.9rem;
        border-radius: 8px;
        font-weight: 600;
        transition: 0.25s ease-in-out;
        box-shadow: 0 4px 10px rgba(255,0,0,0.4);
    }

    .delete-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 15px rgba(255,0,0,0.7);
    }
</style>

<h2> Manage Users</h2>

<div class="glass-table mt-4">
    <table class="table table-borderless align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>User</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Role</th>
                <th style="text-align:center;">Action</th>
            </tr>
        </thead>

        <tbody>
            {% for u in users %}
            <tr>
                <td>{{ u.id }}</td>
                <td>{{ u.name }}</td>
                <td>{{ u.email }}</td>
                <td>{{ u.phone }}</td>
                <td>
                    {% if u.role == 'admin' %}
                        <span class="badge bg-warning text-dark">{{ u.role }}</span>
                    {% elif u.role == 'operator' %}
                        <span class="badge bg-info">{{ u.role }}</span>
                    {% else %}
                        <span class="badge bg-success">{{ u.role }}</span>
                    {% endif %}
                </td>

                <td style="text-align:center;">
                    <a href="{{ url_for('delete_user', user_id=u.id) }}"
                       class="delete-btn"
                       onclick="return confirm('Are you sure you want to delete this user?');">
                        Delete
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
